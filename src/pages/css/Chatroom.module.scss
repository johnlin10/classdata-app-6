.chatroom {
  position: fixed;
  padding: 60px + 60px 12px 0 12px;
  top: 0;
  right: 0;
  height: 100%;
  width: 100%;
  background: var(--theme-light);
  opacity: 1;

  &.animate {
    opacity: 0;
    width: 50%;
    right: -50%;
  }

  @media (max-width: 823px) {
    padding: 54px + 48px 0 0 0;
  }
  @media (min-width: 823px) {
    width: calc(100% - 284px - 12px);
  }

  > div {
    &.chat_header {
      z-index: 100;
      display: flex;
      flex-direction: row;
      position: absolute;
      top: 60px;
      left: 12px;
      width: calc(100% - 24px);
      height: 60px;
      background: var(--theme-light-L2);
      border-bottom: 6px solid var(--theme-light);

      @media (max-width: 823px) {
        border-bottom: 0 solid var(--theme-light);
        padding-bottom: 6px;
        top: 54px;
        left: 0;
        width: 100%;
        height: 48px;
        background: var(--theme-light);
        border-radius: 0;
        -webkit-border-radius: 0;
        -moz-border-radius: 0;
        -ms-border-radius: 0;
        -o-border-radius: 0;
      }

      > div.user_info {
        display: flex;
        flex-direction: row;
        align-items: center;
        padding: 0 12px;
        height: 100%;

        > img {
          height: calc(100% - 18px);
          margin-right: 12px;
          @media (max-width: 823px) {
            height: calc(100% - 12px);
          }
          border-radius: calc(50%);
          -webkit-border-radius: calc(50%);
          -moz-border-radius: calc(50%);
          -ms-border-radius: calc(50%);
          -o-border-radius: calc(50%);
        }

        > p {
          font-size: 1.1rem;
          font-weight: 600;
          color: var(--theme-dark-s2);
        }
      }
      border-radius: 13px 13px 0 0;
      -webkit-border-radius: 13px 13px 0 0;
      -moz-border-radius: 13px 13px 0 0;
      -ms-border-radius: 13px 13px 0 0;
      -o-border-radius: 13px 13px 0 0;
    }
    &.chat_view {
      display: flex;
      flex-direction: column-reverse;
      padding: 24px 24px 24px 24px;
      overflow: auto;
      height: calc(100% - 68px);
      background: var(--main-light);

      @media (max-width: 823px) {
        padding: 12px 12px 12px 12px;
        border-radius: 13px;
        -webkit-border-radius: 13px;
        -moz-border-radius: 13px;
        -ms-border-radius: 13px;
        -o-border-radius: 13px;
      }

      > .message_block {
        position: relative;
        margin: 6px 0;
        padding: 9px 12px 10px 12px;
        background: #fff;
        // min-width: 140px;
        width: fit-content;
        max-width: calc(100% - 100px);
        word-wrap: break-word;

        &.my {
          align-self: flex-end;
          background: var(--theme-color);
          color: #fff;

          > .message_time {
            left: -6px;
            transform: translateX(-100%);
            -webkit-transform: translateX(-100%);
            -moz-transform: translateX(-100%);
            -ms-transform: translateX(-100%);
            -o-transform: translateX(-100%);
          }
          border-radius: 21px 21px 3px 21px;
          -webkit-border-radius: 21px 21px 3px 21px;
          -moz-border-radius: 21px 21px 3px 21px;
          -ms-border-radius: 21px 21px 3px 21px;
          -o-border-radius: 21px 21px 3px 21px;
        }
        &.your {
          > .message_time {
            right: -6px;
            transform: translateX(100%);
            -webkit-transform: translateX(100%);
            -moz-transform: translateX(100%);
            -ms-transform: translateX(100%);
            -o-transform: translateX(100%);
          }
          border-radius: 3px 21px 21px 21px;
          -webkit-border-radius: 3px 21px 21px 21px;
          -moz-border-radius: 3px 21px 21px 21px;
          -ms-border-radius: 3px 21px 21px 21px;
          -o-border-radius: 3px 21px 21px 21px;
        }
        &:hover {
          > .message_time {
            opacity: 1;
          }
        }
        > p {
          font-size: 1rem;
          white-space: pre-line;
          user-select: text;

          @media (max-width: 823px) {
            font-size: 0.9rem;
          }
        }
        > .message_time {
          position: absolute;
          font-size: 0.8rem;
          bottom: 3px;
          width: max-content;
          color: #0000003f;
          opacity: 0;
          transition: 0.25s;
          -webkit-transition: 0.25s;
          -moz-transition: 0.25s;
          -ms-transition: 0.25s;
          -o-transition: 0.25s;
        }
        border-radius: 12px;
        -webkit-border-radius: 12px;
        -moz-border-radius: 12px;
        -ms-border-radius: 12px;
        -o-border-radius: 12px;
      }
      border-radius: 0 0 13px 13px;
      -webkit-border-radius: 0 0 13px 13px;
      -moz-border-radius: 0 0 13px 13px;
      -ms-border-radius: 0 0 13px 13px;
      -o-border-radius: 0 0 13px 13px;
    }
    &.message_inputs {
      display: flex;
      flex-direction: row;
      justify-content: space-between;
      position: absolute;
      bottom: 0;
      height: 68px;
      width: 100%;
      max-width: calc(100% - 24px);

      @media (max-width: 823px) {
        left: 12px;
      }

      > div.text_input {
        padding: 12px 0;
        display: flex;
        align-items: center;
        height: 100%;
        width: 100%;

        > textarea {
          width: 100%;
          min-width: 100%;
          max-width: 100%;
          height: 44px;
          min-height: 44px;
          max-height: 240px;
          padding: 10px 14px;
          font-size: 0.9rem;
          line-height: 1.5rem;
          background: var(--theme-light-s2);
          resize: none;
          border-radius: 22px 7px 7px 22px;
          -webkit-border-radius: 22px 7px 7px 22px;
          -moz-border-radius: 22px 7px 7px 22px;
          -ms-border-radius: 22px 7px 7px 22px;
          -o-border-radius: 22px 7px 7px 22px;
        }
      }
      > div.send_message {
        padding: 12px 0;
        width: max-content;

        > button {
          margin-left: 6px;
          width: 44px;
          height: 44px;
          font-size: 14px;
          background: var(--theme-color);
          color: #d3dfec;
          border-radius: 7px 22px 22px 7px;
          -webkit-border-radius: 7px 22px 22px 7px;
          -moz-border-radius: 7px 22px 22px 7px;
          -ms-border-radius: 7px 22px 22px 7px;
          -o-border-radius: 7px 22px 22px 7px;
          transition: 0.15s;
          -webkit-transition: 0.15s;
          -moz-transition: 0.15s;
          -ms-transition: 0.15s;
          -o-transition: 0.15s;
          overflow: hidden;

          > svg {
            margin-right: 3px;
          }

          &:hover {
            color: #fff;
            font-size: 18px;

            > svg {
              transform: rotate(5deg);
              -webkit-transform: rotate(5deg);
              -moz-transform: rotate(5deg);
              -ms-transform: rotate(5deg);
              -o-transform: rotate(5deg);
            }
          }

          &.animate {
            > svg {
              animation: submit 1s ease-in-out;
              animation-iteration-count: 1;
              -webkit-animation: submit 1s ease-in-out;
              -webkit-animation-iteration-count: 1;
            }
          }
        }

        @keyframes submit {
          0% {
            margin-left: none;
            margin-bottom: none;
            transform: rotate(5deg);
            -webkit-transform: rotate(5deg);
            -moz-transform: rotate(5deg);
            -ms-transform: rotate(5deg);
            -o-transform: rotate(5deg);
          }
          35% {
            margin-left: 42px;
            margin-bottom: 36px;
            transform: rotate(25deg);
            -webkit-transform: rotate(25deg);
            -moz-transform: rotate(25deg);
            -ms-transform: rotate(25deg);
            -o-transform: rotate(25deg);
          }
          50% {
            margin-left: 48px;
            margin-bottom: -36px;
          }
          65% {
            margin-left: -48px;
            margin-bottom: -36px;
          }
          100% {
            margin-left: none;
            margin-bottom: none;
            transform: rotate(5deg);
            -webkit-transform: rotate(5deg);
            -moz-transform: rotate(5deg);
            -ms-transform: rotate(5deg);
            -o-transform: rotate(5deg);
          }
        }
      }
    }
  }
  transition: 0.85s cubic-bezier(0.23, 1, 0.32, 1);
  -webkit-transition: 0.85s cubic-bezier(0.23, 1, 0.32, 1);
  -moz-transition: 0.85s cubic-bezier(0.23, 1, 0.32, 1);
  -ms-transition: 0.85s cubic-bezier(0.23, 1, 0.32, 1);
  -o-transition: 0.85s cubic-bezier(0.23, 1, 0.32, 1);
}

:global(.dark) .chatroom {
  background: var(--theme-dark);

  > div {
    &.chat_header {
      background: var(--theme-dark-s2);
      border-bottom: 5px solid var(--theme-dark);

      @media (max-width: 823px) {
        background: var(--theme-dark);
      }

      > div.user_info {
        > p {
          color: var(--font-theme-dark-s2);
        }
      }
    }
    &.chat_view {
      background: var(--main-dark);

      > .message_block {
        &.my {
          background: var(--theme-color-L4);
        }
        &.your {
          color: #f1f1f1;
          background: var(--main-dark-L2);
        }
      }
    }
    &.message_inputs {
      > div.text_input {
        > textarea {
          color: var(--font-main-light-op7);
          background: var(--theme-dark-s2);
        }
      }
    }
  }
}
